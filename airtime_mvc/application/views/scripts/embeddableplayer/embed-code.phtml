<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <script src="<?php echo $this->mrp_js?>" type="text/javascript"></script>
    <script type="text/javascript">

        var MusesPlayer = function() {
            MRP.insert({
                'url':"<?php echo $this->streamURL ?>",
                'codec':"<?php echo $this->codec ?>",
                'volume':100,
                'jsevents':true,
                'autoplay':false,
                'buffering':5,
                'title':'test',
                'bgcolor':'#FFFFFF',
                'skin':'mcclean',
                'width':180,
                'height':60
            });

            this.flashDetect = FlashDetect.versionAtLeast(10, 1) ? true : false;
        };

        MusesPlayer.prototype.play = function() {
            this.flashDetect ? MRP.play() : musesHTMLPlayClick();
        };

        MusesPlayer.prototype.stop = function() {
            this.flashDetect ? MRP.stop() : musesHTMLStopClick();
        };

        MusesPlayer.prototype.setVolume = function(value) {
            //this.flashDetect ? MRP.setVolume(value) : null;
            //TODO - maybe
        };

        MusesPlayer.prototype.setURL = function() {
            //TODO
        };

        function musesHTMLPlayClick() {
            //child nodes
            var cn = document.getElementById("MusesRadioPlayer-HTML5-player-1").childNodes;
            var playDiv = cn[4];
            playDiv.onclick();
        }

        function musesHTMLStopClick() {
            //child nodes
            var cn = document.getElementById("MusesRadioPlayer-HTML5-player-1").childNodes;
            var stopDiv = cn[5];
            stopDiv.onclick();
        }

    </script>
    <style type="text/css">
        #muses_skin{width:1px; height:1px; overflow-x: hidden; overflow-y: hidden;}
    </style>
</head>

<body>

<div id="muses_skin">
    <script type="text/javascript">
        var musesPlayer = new MusesPlayer();
    </script>
</div>

<div id="custom_muses_play" onclick="musesPlayer.play()">
    <a href="#">play</a>
</div>
<div id="custom_muses_stop" onclick="musesPlayer.stop()">
    <a href="#">stop</a>
</div>

</body>
</html>